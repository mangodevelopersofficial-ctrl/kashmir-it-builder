<!DOCTYPE html>
<html>
<head>
    <title>Kashmir IT - App Tools</title>
    <style>
        body { font-family: sans-serif; background: #f0f2f5; padding: 40px; }
        .box { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-width: 600px; margin: auto; }
        textarea { width: 100%; height: 150px; margin: 10px 0; border: 1px solid #ddd; padding: 10px; border-radius: 5px; }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; color: white; font-weight: bold; margin-right: 10px; }
        .blue { background: #007bff; }
        .green { background: #28a745; }
        .purple { background: #6f42c1; }
    </style>
</head>
<body>
    <div class="box">
        <h2>HTML to APK/AAB Builder</h2>
        <textarea id="code" placeholder="Apna HTML code yahan paste karein..."></textarea>
        <button class="btn blue" onclick="sendBuild('apk')">Build APK</button>
        <button class="btn green" onclick="sendBuild('aab')">Build AAB</button>
        
        <hr style="margin: 30px 0;">
        
        <h2>App Converter</h2>
        <button class="btn purple" onclick="sendConvert('apk-to-aab')">Convert APK to AAB</button>
        <button class="btn purple" onclick="sendConvert('aab-to-apk')">Convert AAB to APK</button>
        <p id="status" style="margin-top: 15px; color: blue;"></p>
    </div>

    <script>
        async function sendBuild(type) {
            const code = document.getElementById('code').value;
            const res = await fetch('/build-app', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ htmlCode: code, type: type })
            });
            const data = await res.json();
            document.getElementById('status').innerText = data.message;
        }

        async function sendConvert(action) {
            const res = await fetch('/convert-app', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ action: action })
            });
            const data = await res.json();
            document.getElementById('status').innerText = data.message;
        }
    </script>
</body>
</html>